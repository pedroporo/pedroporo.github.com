<!doctype html>
<html lang="es">
<head>
<title>01-sintaxis</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script async type="module">import mermaid from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdn.jsdelivr.net/npm/lucide@0.115.0/dist/umd/lucide.min.js"></script>
<script>window.addEventListener("load",(()=>{document.querySelectorAll(".callout").forEach((e=>{const t=getComputedStyle(e).getPropertyValue("--callout-icon"),l=t&&t.trim().replace(/^lucide-/,"");if(l){const t=e.querySelector(".callout-title");if(t){const e=document.createElement("div"),c=document.createElement("i");e.appendChild(c),c.setAttribute("icon-name",l),e.setAttribute("class","callout-icon"),t.insertBefore(e,t.firstChild)}}})),lucide.createIcons(),Array.from(document.querySelectorAll(".callout.is-collapsible")).forEach((e=>{e.querySelector(".callout-title").addEventListener("click",(t=>{e.classList.contains("is-collapsed")?e.classList.remove("is-collapsed"):e.classList.add("is-collapsed")}))}))}))</script>
<script async src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>
<script async src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" async>
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" async></script>
<link href="/styles/digital-garden-base.css" rel="stylesheet">
<link href="/styles/obsidian-base.css" rel="stylesheet">
<link href="/styles/_theme.ec9fd150.css" rel="stylesheet">
<link href="/styles/custom-style.css" rel="stylesheet">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">
<style></style>
</head>
<body class="theme-dark markdown-preview-view markdown-rendered markdown-preview-section">
<div x-init="isDesktop = (window.innerWidth>=1400) ? true: false;" x-on:resize.window="isDesktop = (window.innerWidth>=1400) ? true : false;" x-data="{isDesktop: true, showFilesMobile: false}">
<div x-show.important="!isDesktop" style="display:none">
<nav class="navbar">
<div class="navbar-inner">
<span style="font-size:1.5rem;margin-right:10px" @click="showFilesMobile=!showFilesMobile"><i icon-name="menu"></i></span>
<a href="/" style="text-decoration:none">
<h1 style="margin:15px!important">Notas de pedro</h1>
</a>
</div>
</nav>
</div>
<div x-show="showFilesMobile && !isDesktop" @click="showFilesMobile = false" style="display:none" class="fullpage-overlay"></div>
<nav class="filetree-sidebar" x-show.important="isDesktop || showFilesMobile" style="display:none">
<a href="/" style="text-decoration:none">
<h1 style="text-align:center">Notas de pedro</h1>
</a>
<div class="folder" x-data="{isOpen: true}">
<div x-show="isOpen" style="display:none" class="">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">notas</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Desarollo Web en entorno cliente')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Desarollo Web en entorno cliente</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/desarollo-web-en-entorno-cliente/desarollo-web-en-entorno-cliente/">Asignatura de entornos a clientes </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Desarollo Web en entorno servidor')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Desarollo Web en entorno servidor</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/desarollo-web-en-entorno-servidor/desarollo-web-en-entorno-servidor/">Desarollo Web en entorno servidor </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Despliegue de aplicaciones Web')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Despliegue de aplicaciones Web</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/despliegue-de-aplicaciones-web/despliegue-de-aplicaciones-web/">Despliegue de aplicaciones WEB </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Diseño de interfaces WEB')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Diseño de interfaces WEB</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/diseno-de-interfaces-web/diseno-de-interfaces-web/">Diseño de interfaces WEB </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Ingles')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Ingles</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/ingles/ingles/">Ingles </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div class="folder inner-folder" x-data="{isOpen: $persist(false).as('notas/Javascript Teoria Batoi')}" @click.stop="isOpen=!isOpen">
<div class="foldername-wrapper align-icon">
<i x-show="isOpen" style="display:none" icon-name="chevron-down"></i>
<i x-show="!isOpen" icon-name="chevron-right"></i>
<span class="foldername">Javascript Teoria Batoi</span>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink active-note"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/01-sintaxis/">01-sintaxis </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/02-1-objetos/">02.1-objetos </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/02-2-arrays/">02.2-arrays </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/03-oop/">03-oop </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/03-1-vite/">03.1-vite </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/03-1-webpack/">03.1-webpack </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/04-dom/">04-DOM </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/04-1-mvc/">04.1-MVC </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/05-bom/">05-BOM </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/06-eventos/">06-eventos </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/07-globales/">07-globales </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/08-forms/">08-forms </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/09-ajax/">09-ajax </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/10-apis/">10-apis </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/11-mas/">11-mas </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/12-tests/">12-tests </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/ejercicios/">ejercicios </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/readme/">README </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/tdd-mocha/">TDD-mocha </a>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/notas/javascript-teoria-batoi/xx-tests/">xx-tests </a>
</div>
</div>
</div>
</div>
<div x-show="isOpen" style="display:none" class="filelist">
<div @click.stop class="notelink"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration:none" class="filename" href="/">Indice </a>
</div>
</div>
</div>
</div>
</div>
</nav>
</div>
<main class="content cm-s-obsidian">
<header>
<div class="header-meta">
</div>
</header>
<h1 id="sintaxis" tabindex="-1">Sintaxis</h1>
<ul>
<li><a href="#sintaxis" target="_blank" class="external-link">Sintaxis</a>
<ul>
<li><a href="#variables" target="_blank" class="external-link">Variables</a></li>
<li><a href="#funciones" target="_blank" class="external-link">Funciones</a>
<ul>
<li><a href="#par%C3%A1metros" target="_blank" class="external-link">Parámetros</a></li>
<li><a href="#funciones-an%C3%B3nimas" target="_blank" class="external-link">Funciones anónimas</a></li>
<li><a href="#arrow-functions-funciones-flecha" target="_blank" class="external-link">Arrow functions (funciones flecha)</a></li>
</ul>
</li>
<li><a href="#estructuras-y-bucles" target="_blank" class="external-link">Estructuras y bucles</a>
<ul>
<li><a href="#estructura-condicional-if" target="_blank" class="external-link">Estructura condicional: if</a></li>
<li><a href="#estructura-condicional-switch" target="_blank" class="external-link">Estructura condicional: switch</a></li>
<li><a href="#bucle-while" target="_blank" class="external-link">Bucle <em>while</em></a></li>
<li><a href="#bucle-for" target="_blank" class="external-link">Bucle: for</a></li>
<li><a href="#bucle-for-con-contador" target="_blank" class="external-link">Bucle: for con contador</a>
<ul>
<li><a href="#bucle-forin" target="_blank" class="external-link">Bucle: for...in</a></li>
<li><a href="#bucle-forof" target="_blank" class="external-link">Bucle: for...of</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#tipos-de-datos-b%C3%A1sicos" target="_blank" class="external-link">Tipos de datos básicos</a>
<ul>
<li><a href="#casting-de-variables" target="_blank" class="external-link"><em>Casting</em> de variables</a></li>
<li><a href="#number" target="_blank" class="external-link">Number</a></li>
<li><a href="#string" target="_blank" class="external-link">String</a>
<ul>
<li><a href="#template-literals" target="_blank" class="external-link">Template literals</a></li>
</ul>
</li>
<li><a href="#boolean" target="_blank" class="external-link">Boolean</a></li>
</ul>
</li>
<li><a href="#manejo-de-errores" target="_blank" class="external-link">Manejo de errores</a></li>
<li><a href="#buenas-pr%C3%A1cticas" target="_blank" class="external-link">Buenas prácticas</a>
<ul>
<li><a href="#use-strict" target="_blank" class="external-link">'use strict'</a></li>
<li><a href="#variables-1" target="_blank" class="external-link">Variables</a></li>
<li><a href="#otras" target="_blank" class="external-link">Otras</a></li>
</ul>
</li>
<li><a href="#clean-code" target="_blank" class="external-link">Clean Code</a></li>
</ul>
</li>
</ul>
<h2 id="variables" tabindex="-1">Variables</h2>
<p>Javascript es un lenguaje dinámicamente tipado. Esto significa que no se indica de qué tipo es una variable al declararla e incluso puede cambiar su tipo a lo largo de la ejecución del programa. Ejemplo:</p>
<pre><code class="language-javascript">let miVariable;         // declaro miVariable y como no se asigno un valor valdrá undefined
miVariable='Hola';      // ahora su valor es 'Hola', por tanto contiene una cadena de texto
miVariable=34;          // pero ahora contiene un número
miVariable=[3, 45, 2];  // y ahora un array
miVariable=undefined;   // para volver a valer el valor especial undefined
</code></pre>
<p>Además es débilmente tipado, lo que significa que permite operaciones entre tipos de datos diferentes. Ejemplo:</p>
<pre><code class="language-javascript">miVariable='23';
console.log(miVariable * 2);  // mostrará 46 ya que convierte la cadena '23' a número
</code></pre>
<blockquote>
<p>EJERCICIO: Ejecuta en la consola del navegador las instrucciones anteriores y comprueba el valor de miVariable tras cada instrucción (para ver el valor de una variable simplemente ponemos en la consola su nombre: <code>miVariable</code></p>
</blockquote>
<p>Ni siquiera estamos obligados a declarar una variable antes de usarla, aunque es recomendable para evitar errores que nos costará depurar. Podemos hacer que se produzca un error si no declaramos una variable incluyendo al principio de nuestro código la instrucción</p>
<pre><code class="language-javascript">'use strict'
</code></pre>
<p>Las variables de declaran con <strong>let</strong> (lo recomendado desde ES2015), aunque también pueden declararse con <strong>var</strong> (nosotros NUNCA lo haremos). La diferencia es que con <em>let</em> el ámbito de la variable es sólo el bloque en que se declara mientras que con <em>var</em> su ámbito es global (o global a la función en que se declara):</p>
<pre><code class="language-javascript">if (edad &lt; 18) {
  let textoLet = 'Eres mayor de edad';
  var textoVar = 'Eres mayor de edad';
} else {
  let textoLet = 'Eres menor de edad';
  var textoVar = 'Eres menor de edad';
}
console.log(textoLet);  // mostrará undefined porque fuera del if no existe la variable
console.log(textoVar);  // mostrará la cadena
</code></pre>
<p>Cualquier variable que no se declara dentro de una función (o si se usa sin declarar) es <em>global</em>. Debemos siempre intentar NO usar variables globales.</p>
<p>Se recomienda que Los nombres de las variables sigan la sintaxis <em>camelCase</em> (ej.: <em>miPrimeraVariable</em>).</p>
<p>Desde ES2015 también podemos declarar constantes con <strong>const</strong>. Se les debe dar un valor al declararlas y si intentamos modificarlo posteriorment se produce un error. Sin embargo si la variable es un objeto o array sí podemos modificar su contenido, aunque no vlarla a asignar. Se recomienda usarla siempre que sea posible. Ejemplo:</p>
<pre><code class="language-javascript">const PI=3.1416;
PI=3.14;    // dará un error

const miArray=[3, 4, 5];
miArray[0]=6;   // esto sí se puede hacer
miArray=[6, 4, 5];  // esto dará un error
</code></pre>
<p>NOTA: en la página de <a href="https://babeljs.io/" target="_blank" class="external-link">Babel</a> podemos teclear código en ES2015 y ver cómo quedaría una vez transpilado a ES5.</p>
<h2 id="funciones" tabindex="-1">Funciones</h2>
<p>Se declaran con <strong>function</strong> y se les pasan los parámetros entre paréntesis. La función puede devolver un valor usando <strong>return</strong> (si no tiene <em>return</em> es como si devolviera <em>undefined</em>).</p>
<p>Puede usarse una función antes de haberla declarado por el comportamiento de Javascript llamado <em>hoisting</em>: el navegador primero carga todas las funciones y mueve las declaraciones de las variables al principio y luego ejecuta el código.</p>
<blockquote>
<p>EJERCICIO: Haz una función que te pida que escribas algo y muestre un alert diciendo 'Has escrito...' y el valor introducido. Pruébala en la consola (pegas allí la función y luego la llamas desde la consola)</p>
</blockquote>
<h3 id="parametros" tabindex="-1">Parámetros</h3>
<p>Si se llama una función con menos parámetros de los declarados el valor de los parámetros no pasados será <em>undefined</em>:</p>
<pre><code class="language-javascript">function potencia(base, exponente) {
    console.log(base);            // muestra 4
    console.log(exponente);       // muestra undefined
    let valor=1;
    for (let i=1; i&lt;=exponente; i++) {
      valor=valor*base;
    }
    return valor;
}

potencia(4);    // devolverá 1 ya que no se ejecuta el for
</code></pre>
<p>Podemos dar un <strong>valor por defecto</strong> a los parámetros por si no los pasan asignándoles el valor al definirlos:</p>
<pre><code class="language-javascript">function potencia(base, exponente=2) {
    console.log(base);            // muestra 4
    console.log(exponente);       // muestra 2 la primera vez y 5 la segunda
    let valor=1;
    for (let i=1; i&lt;=exponente; i++) {
      valor=valor*base;
    }
    return valor;
}

console.log(potencia(4));         // mostrará 16 (4^2)
console.log(potencia(4,5));       // mostrará 1024 (4^5)
</code></pre>
<blockquote>
<p>NOTA: Hasta ES6 para dar un valor por defecto a una variable se hacía</p>
<pre><code class="language-javascript">function potencia(base, exponente) {
    exponente = exponente || 2;       // si exponente vale undefined se la asigna el valor 2
...
</code></pre>
</blockquote>
<p>También es posible acceder a los parámetros desde el array <strong>arguments[]</strong> si no sabemos cuántos recibiremos:</p>
<pre><code class="language-javascript">function suma () {
    var result = 0;
    for (var i=0; i&lt;arguments.length; i++)
        result += arguments[i];
    return result;
}

console.log(suma(4, 2));                    // mostrará 6
console.log(suma(4, 2, 5, 3, 2, 1, 3));     // mostrará 20
</code></pre>
<p>En Javascript las funciones son un tipo de datos más por lo que podemos hacer cosas como pasarlas por argumento o asignarlas a una variable:</p>
<pre><code class="language-javascript">const cuadrado = function(value) {
  return value * value
}
function aplica_fn(dato, funcion_a_aplicar) {
    return funcion_a_aplicar(dato);
}

aplica_fn(3, cuadrado);     // devolverá 9 (3^2)
</code></pre>
<p>Al usar paréntesis <code>()</code> se llama a la función. Sin paréntesis sólo se hace referencia al objeto que representa la función. La capacidad de Javascript de tratar las funciones como objetos le permite el uso de funciones de <em>Callback</em> y la programación funcional, que veremos más adelante.</p>
<h3 id="funciones-anonimas" tabindex="-1">Funciones anónimas</h3>
<p>Como acabamos de ver podemos definir una función sin darle un nombre. Dicha función puede asignarse a una variable, autoejecutarse o asignasrse a un manejador de eventos. Ejemplo:</p>
<pre><code class="language-javascript">let holaMundo = function() {
    alert('Hola mundo!');
}

holaMundo();        // se ejecuta la función
</code></pre>
<p>Como vemos asignamos una función a una variable de forma que podamos &quot;ejecutar&quot; dicha variable.</p>
<h3 id="arrow-functions-funciones-flecha" tabindex="-1">Arrow functions (funciones flecha)</h3>
<p>ES2015 permite declarar una función anónima de forma más corta. Ejemplo sin <em>arrow function</em>:</p>
<pre><code class="language-javascript">let potencia = function(base, exponente) {
    let valor=1;
    for (let i=1; i&lt;=exponente; i++) {
      valor=valor*base;
    }
    return valor;
}
</code></pre>
<p>Al escribirla con la sintaxis de una <em>arrow function</em> lo que hacemos es:</p>
<ul>
<li>Eliminamos la palabra <em>function</em></li>
<li>Si sólo tiene 1 parámetro podemos eliminar los paréntesis de los parámetros</li>
<li>Ponemos el símbolo <em>=&gt;</em></li>
<li>Si la función sólo tiene 1 línea podemos eliminamr las { } y la palabra <em>return</em></li>
</ul>
<p>El ejemplo con <em>arrow function</em>:</p>
<pre><code class="language-javascript">let potencia = (base, exponente) =&gt; {
    let valor=1;
    for (let i=1; i&lt;=exponente; i++) {
      valor=valor*base;
    }
    return valor;
}
</code></pre>
<p>Otro ejemplo, sin <em>arrow function</em>:</p>
<pre><code class="language-javascript">let cuadrado = function(base) {
    return base * base;
}
</code></pre>
<p>conn <em>arrow function</em>:</p>
<pre><code class="language-javascript">let cuadrado = base =&gt; base * base;
</code></pre>
<blockquote>
<p>EJERCICIO: Haz una <em>arrow function</em> que devuelva el cubo del número pasado como parámetro y pruébala desde la consola. Escríbela primero en la forma habitual y luego la &quot;traduces&quot; a <em>arrow function</em>.</p>
</blockquote>
<p>Las <em>arrow function</em> son muy útiles cuando se usan como parámetros de otras funciones (como veremos en <em>programación funcional</em>) pero no tienen su propio contexto <em>this</em> por lo que no las podremos usar como métodos de una clase u objeto).</p>
<h2 id="estructuras-y-bucles" tabindex="-1">Estructuras y bucles</h2>
<h3 id="estructura-condicional-if" tabindex="-1">Estructura condicional: if</h3>
<p>El <strong>if</strong> es como en la mayoría de lenguajes. Puede tener asociado un <strong>else</strong> y pueden anidarse varios con <strong>else if</strong>.</p>
<pre><code class="language-javascript">if (condicion) {
    ...
} else if (condicion2) {
    ...
} else if (condicion3) {
    ...
} else {
    ...
}
</code></pre>
<p>Ejemplo:</p>
<pre><code class="language-javascript">if (edad &lt; 18) {
    console.log('Es menor de edad');
} else if (edad &gt; 65) {
    console.log('Está jubilado');
} else {
    console.log('Edad correcta');
}
</code></pre>
<p>Se puede usar el operador <strong>? :</strong> que es como un <em>if</em> que devuelve un valor:</p>
<pre><code class="language-javascript">let esMayorDeEdad = (edad &gt; 18) ? true : false;
</code></pre>
<h3 id="estructura-condicional-switch" tabindex="-1">Estructura condicional: switch</h3>
<p>El <strong>switch</strong> también es como en la mayoría de lenguajes. Hay que poner <em>break</em> al final de cada bloque para que no continúe evaluando:</p>
<pre><code class="language-javascript">switch(color) {
    case 'blanco':
    case 'amarillo':    // Ambos colores entran aquí
        colorFondo='azul';
        break;
    case 'azul':
        color_lambda_Fondo='amarillo';
        break;
    default:            // Para cualquier otro valor
        colorFondo='negro';
}
</code></pre>
<p>Javascript permite que el <em>switch</em> en vez de evaluar valores pueda evaluar expresiones. En este caso se pone como condición <em>true</em>:</p>
<pre><code class="language-javascript">switch(true) {
    case age &lt; 18:
        console.log('Eres muy joven para entrar');
        break;
    case age &lt; 65:
        console.log('Puedes entrar');
        break;
    default:
        console.log('Eres muy mayor para entrar');
}
</code></pre>
<h3 id="bucle-em-while-em" tabindex="-1">Bucle <em>while</em></h3>
<p>Podemos usar el bucle <em>while...do</em></p>
<pre><code class="language-javascript">while (condicion) {
    // sentencias
}
</code></pre>
<p>que se ejecutará 0 o más veces. Ejemplo:</p>
<pre><code class="language-javascript">let nota=prompt('Introduce una nota (o cancela para finalizar)');
while (nota) {
    console.log('La nota introducida es: '+nota);
    nota=prompt('Introduce una nota (o cancela para finalizar)');
}
</code></pre>
<p>O el bucle <em>do...while</em>:</p>
<pre><code class="language-javascript">do {
    // sentencias
} while (condicion)
</code></pre>
<p>que al menos se ejecutará 1 vez. Ejemplo:</p>
<pre><code class="language-javascript">let nota;
do {
    nota=prompt('Introduce una nota (o cancela para finalizar)');
    console.log('La nota introducida es: '+nota);
} while (nota)
</code></pre>
<blockquote>
<p>EJERCICIO: Haz un programa para que el usuario juegue a adivinar un número. Obtén un número al azar (busca por internet cómo se hace o simplemente guarda el número que quieras en una variable) y ve pidiendo al usuario que introduzca un número. Si es el que busca le dices que lo ha encontrado y si no le mostrarás si el número que busca el mayor o menor que el introducido. El juego acaba cuando el usuario encuentra el número o cuando pulsa en 'Cancelar' (en ese caso le mostraremos un mensaje de que ha cancelado el juego).</p>
</blockquote>
<h3 id="bucle-for" tabindex="-1">Bucle: for</h3>
<p>Tenemos muchos <em>for</em> que podemos usar.</p>
<h3 id="bucle-for-con-contador" tabindex="-1">Bucle: for con contador</h3>
<p>Creamos una variable contador que controla las veces que se ejecuta el for:</p>
<pre><code class="language-javascript">let datos=[5, 23, 12, 85]
let sumaDatos=0;

for (let i=0; i&lt;datos.length; i++) {
    sumaDatos += datos[i];
}  
// El valor de sumaDatos será 125
</code></pre>
<blockquote>
<p>EJERCICIO: El factorial de un número entero n es una operación matemática que consiste en multiplicar ese número por todos los enteros menores que él: <strong>n x (n-1) x (n-2) x ... x 1</strong>. Así, el factorial de 5 (se escribe 5!) vale <strong>5! = 5 x 4 x 3 x 2 x 1 = 120</strong>. Haz un script que calcule el factorial de un número entero.</p>
</blockquote>
<h4 id="bucle-for-in" tabindex="-1">Bucle: for...in</h4>
<p>El bucle se ejecuta una vez para cada elemento del array (o propiedad del objeto) y se crea una variable contador que toma como valores la posición del elemento en el array:</p>
<pre><code class="language-javascript">let datos=[5, 23, 12, 85]
let sumaDatos=0;

for (let indice in datos) {
    sumaDatos += datos[indice];     // los valores que toma indice son 0, 1, 2, 3
}  
// El valor de sumaDatos será 125
</code></pre>
<p>También sirve para recorrer las propiedades de un objeto:</p>
<pre><code class="language-javascript">let profe={
    nom:'Juan', 
    ape1='Pla', 
    ape2='Pla'
}
let nombre='';

for (var campo in profe) {
   nombre += profe.campo + ' '; // o profe[campo];
}  
// El valor de nombre será 'Juan Pla Pla '
</code></pre>
<h4 id="bucle-for-of" tabindex="-1">Bucle: for...of</h4>
<p>Es similar al <em>for...in</em> pero la variable contador en vez de tomar como valor cada índice toma cada elemento. Es nuevo en ES2015:</p>
<pre><code class="language-javascript">let datos = [5, 23, 12, 85]
let sumaDatos = 0;

for (let valor of datos) {
    sumaDatos += valor;       // los valores que toma valor son 5, 23, 12, 85
}  
// El valor de sumaDatos será 125
</code></pre>
<p>También sirve para recorrer los caracteres de una cadena de texto:</p>
<pre><code class="language-javascript">let cadena = 'Hola';

for (let letra of cadena) {
    console.log(letra);     // los valores de letra son 'H', 'o', 'l', 'a'
}  
</code></pre>
<blockquote>
<p>EJERCICIO: Haz 3 funciones a las que se le pasa como parámetro un array de notas y devuelve la nota media. Cada una usará un for de una de las 3 formas vistas. Pruébalas en la consola</p>
</blockquote>
<h2 id="tipos-de-datos-basicos" tabindex="-1">Tipos de datos básicos</h2>
<p>Para saber de qué tipo es el valor de una variable tenemos el operador <strong>typeof</strong>. Ej.:</p>
<ul>
<li><code>typeof 3</code> devuelve <em>number</em></li>
<li><code>typeof 'Hola'</code> devuelve <em>string</em></li>
</ul>
<p>En Javascript hay 2 valores especiales:</p>
<ul>
<li><strong>undefined</strong>: es lo que vale una variable a la que no se ha asignado ningún valor</li>
<li><strong>null</strong>: es un tipo de valor especial que podemos asignar a una variable. Es como un objeto vacío (<code>typeof null</code> devuelve <em>object</em>)</li>
</ul>
<p>También hay otros valores especiales relacionados con operaciones con números:</p>
<ul>
<li><strong>NaN</strong> (<em>Not a Number</em>): indica que el resultado de la operación no puede ser convertido a un número (ej. <code>'Hola'*2</code>, aunque <code>'2'*2</code> daría 4 ya que se convierte la cadena '2' al número 2)</li>
<li><strong>Infinity</strong> y <strong>-Infinity</strong>: indica que el resultado es demasiado grande o demasiado pequeño (ej. <code>1/0</code> o <code>-1/0</code>)</li>
</ul>
<h3 id="em-casting-em-de-variables" tabindex="-1"><em>Casting</em> de variables</h3>
<p>Como hemos dicho las variables pueden contener cualquier tipo de valor y, en las operaciones, Javascript realiza <strong>automáticamente</strong> las conversiones necesarias para, si es posible, realizar la operación. Por ejemplo:</p>
<ul>
<li><code>'4' / 2</code> devuelve 2 (convierte '4' en 4 y realiza la operación)</li>
<li><code>'23' - null</code> devuelve 0 (hace 23 - 0)</li>
<li><code>'23' - undefined</code> devuelve <em>NaN</em> (no puede convertir undefined a nada así que no puede hacer la operación)</li>
<li><code>'23' * true</code> devuelve 23 (23 * 1)</li>
<li><code>'23' * 'Hello'</code> devuelve <em>NaN</em> (no puede convertir 'Hello')</li>
<li><code>23 + 'Hello'</code> devuelve '23Hello' (+ es el operador de concatenación así que convierte 23 a '23' y los concatena)</li>
<li><code>23 + '23'</code> devuelve 2323 (OJO, convierte 23 a '23', no al revés)</li>
</ul>
<p>Además comentar que en Javascript todo son ojetos por lo que todo tiene métodos y propiedades. Veamos brevemente los tipos de datos básicos.</p>
<blockquote>
<p>EJERCICIO: Prueba en la consola las operaciones anteriores y alguna más con la que tengas dudas de qué devolverá</p>
</blockquote>
<h3 id="number" tabindex="-1">Number</h3>
<p>Sólo hay 1 tipo de números, no existen enteros y decimales. El tipo de dato para cualquier número es <strong>number</strong>. El carácter para la coma decimal es el <strong>.</strong> (como en inglés, así que 23,12 debemos escribirlo como 23.12).</p>
<p>Tenemos los operadores aritméticos <strong>+</strong>, <strong>-</strong>, <strong>*</strong>, <strong>/</strong> y <strong>%</strong> y los unarios <strong>++</strong> y <strong>--</strong> y existen los valores especiales <strong>Infinity</strong> y <strong>-Infinity</strong> (<code>23 / 0</code> no produce un error sino que devuelve <em>Infinity</em>).</p>
<p>Podemos usar los operadores artméticos junto al operador de asignación <strong>=</strong> (+=, -=, *=, /= y %=).</p>
<p>Algunos métodos útiles de los números son:</p>
<ul>
<li><strong>.toFixed(num)</strong>: redondea el número a los decimales indicados. Ej. <code>23.2376.toFixed(2)</code> devuelve 23.24</li>
<li><strong>.toLocaleString()</strong>: devuelve el número convertido al formato local. Ej. <code>23.76.toLocaleString()</code> devuelve '23,76' (convierte el punto decimal en coma)</li>
</ul>
<p>Podemos forzar la conversión a número con la función <strong>Number(valor)</strong>. Ejemplo <code>Number('23.12')</code>devuelve 23.12</p>
<p>Otras funciones útiles son:</p>
<ul>
<li><strong>isNaN(valor)</strong>: nos dice si el valor pasado es un número (false) o no (true)</li>
<li><strong>isFinite(valor)</strong>: devuelve <em>true</em> si el valor es finito (no es <em>Infinity</em> ni <em>-Infinity</em>).</li>
<li><strong>parseInt(valor)</strong>: convierte el valor pasado a un número entero. Siempre que compience por un número la conversión se podrá hacer. Ej.:</li>
</ul>
<pre><code class="language-javascript">parseInt(3.65)      // Devuelve 3
parseInt('3.65')    // Devuelve 3
parseInt('3 manzanas')    // Devuelve 3, Number devolvería NaN
</code></pre>
<ul>
<li><strong>parseFloat(valor)</strong>: como la anterior pero conserva los decimales</li>
</ul>
<p><strong>OJO</strong>: al sumar floats podemos tener problemas:</p>
<pre><code class="language-javascript">console.log(0.1 + 0.2)    // imprime 0.30000000000000004
</code></pre>
<p>Para evitarlo redondead los resultados (o <code>(0.1*10 + 0.2*10) / 10</code>).</p>
<blockquote>
<p>EJERCICIO: Modifica la funciónque quieras de calcular la nota media para que devuelva la media con 1 decimal</p>
</blockquote>
<blockquote>
<p>EJERCICIO: Modifica la función que devuelve el cubo de un número para que compruebe si el parámetro pasado es un número entero. Si no es un entero o no es un número mostrará un alert indicando cuál es el problema yndevolverá false.</p>
</blockquote>
<h3 id="string" tabindex="-1">String</h3>
<p>Las cadenas de texto van entre comillas simples o dobles, es indiferente. Podemos escapar un caràcter con \ (ej. <code>'Hola \'Mundo\''</code> devuelve <em>Hola 'Mundo'</em>).</p>
<p>Para forzar la conversión a cadena se usa la función <strong>String(valor)</strong> (ej. <code>String(23)</code> devuelve '23')</p>
<p>El operador de concatenación de cadenas es <strong>+</strong>. Ojo porque si pedimos un dato con <em>prompt</em> siempre devuelve una cadena así que si le pedimos la edad al usuario (por ejemplo 20) y se sumamos 10 tendremos 2010 ('20'+10).</p>
<p>Algunos métodos y propiedades de las cadenas son:</p>
<ul>
<li><strong>.length</strong>: devuelve la longitud de una cadena. Ej.: <code>'Hola mundo'.length</code> devuelve 10</li>
<li><strong>.charAt(posición)</strong>: <code>'Hola mundo'.charAt(0)</code> devuelve 'H'</li>
<li><strong>.indexOf(carácter)</strong>: <code>'Hola mundo'.indexOf('o')</code> devuelve 1. Si no se encuentra devuelve -1</li>
<li><strong>.lastIndexOf(carácter)</strong>: <code>'Hola mundo'.lastIndexOf('o')</code> devuelve 9</li>
<li><strong>.substring(desde, hasta)</strong>: <code>'Hola mundo'.substring(2,4)</code> devuelve 'la'</li>
<li><strong>.substr(desde, num caracteres)</strong>: <code>'Hola mundo'.substr(2,4)</code> devuelve 'la m'</li>
<li><strong>.replace(busco, reemplaza)</strong>: <code>'Hola mundo'.replace('Hola', 'Adiós')</code> devuelve 'Adiós mundo'</li>
<li><strong>.toLocaleLowerCase()</strong>: <code>'Hola mundo'.toLocaleLowerCase()</code> devuelve 'hola mundo'</li>
<li><strong>.toLocaleUpperCase()</strong>: <code>'Hola mundo'.toLocaleUpperCase()</code> devuelve 'HOLA MUNDO'</li>
<li><strong>.localeCompare(cadena)</strong>: devuelve -1 si la cadena a que se aplica el método es anterior alfabéticamente a 'cadena', 1 si es posterior y 0 si ambas son iguales. Tiene en cuenta caracteres locales como acentos ñ, ç, etc</li>
<li><strong>.trim(cadena)</strong>: <code>' Hola mundo '.trim()</code> devuelve 'Hola mundo'</li>
<li><strong>.startsWith(cadena)</strong>: <code>'Hola mundo'.startsWith('Hol')</code> devuelve <em>true</em></li>
<li><strong>.endsWith(cadena)</strong>: <code>'Hola mundo'.endsWith('Hol')</code> devuelve <em>false</em></li>
<li><strong>.includes(cadena)</strong>: <code>'Hola mundo'.includes('mun')</code> devuelve <em>true</em></li>
<li><strong>.repeat(veces)</strong>: <code>'Hola mundo'.repeat(3)</code> devuelve 'Hola mundoHola mundoHola mundo'</li>
<li><strong>.split(sepadaror)</strong>: <code>'Hola mundo'.split(' ')</code> devuelve el array ['Hola', 'mundo']. <code>'Hola mundo'.split('')</code> devuelve el array ['H', 'o', 'l', 'a', ' ', 'm', 'u', 'n', 'd', 'o']</li>
</ul>
<p>Podemos probar los diferentes métodos en la página de <a href="https://www.w3schools.com/jsref/jsref_obj_string.asp" target="_blank" class="external-link">w3schools</a>.</p>
<blockquote>
<p>EJERCICIO: Haz una función a la que se le pasa un DNI (ej. 12345678w o 87654321T) y devolverá si es correcto o no. La letra que debe corresponder a un DNI correcto se obtiene dividiendo la parte numérica entre 23 y cogiendo de la cadena 'TRWAGMYFPDXBNJZSQVHLCKE' la letra correspondiente al resto de la divisón. Por ejemplo, si el resto es 0 la letra será la T y si es 4 será la G. Prueba la función en la consola con tu DNI</p>
</blockquote>
<h4 id="template-literals" tabindex="-1">Template literals</h4>
<p>Desde ES2015 también podemos poner una cadena entre ` (acento grave) y en ese caso podemos poner dentro variables y expresiones que serán evaluadas al ponerlas dentro de <strong>${}</strong>. También se respetan los saltos de línea, tabuladores, etc que haya dentro. Ejemplo:</p>
<pre><code class="language-javascript">let edad=25;

console.log(\`El usuario tiene:
${edad} años\`) 
</code></pre>
<p>Mostrará en la consola:</p>
<blockquote>
<p>El usuario tiene:</p>
</blockquote>
<blockquote>
<p>25 años</p>
</blockquote>
<h3 id="boolean" tabindex="-1">Boolean</h3>
<p>Los valores booleanos son <strong>true</strong> y <strong>false</strong>. Para convertir algo a booleano se usar <strong>Boolean(valor)</strong> aunque también puede hacerse con la doble negación (<strong>!!</strong>). Cualquier valor se evaluará a <em>true</em> excepto 0, NaN, null, undefined o una cadena vacía ('') que se evaluarán a <em>false</em>.</p>
<p>Los operadores lógicos son ! (negación), &amp;&amp; (and), || (or).</p>
<p>Para comparar valores tenemos <strong>==</strong> y <strong>===</strong>. La triple igualdad devuelve <em>true</em> si son igual valor y del mismo tipo. Como Javascript hace conversiones de tipos automáticas conviene usar la <strong>===</strong> para evitar cosas como:</p>
<ul>
<li><code>'3' == 3</code> true</li>
<li><code>3 == 3.0</code> true</li>
<li><code>0 == false</code> true</li>
<li><code>'' == false</code> true</li>
<li><code>' ' == false</code> true</li>
<li><code>[] == false</code> true</li>
<li><code>null == false</code> false</li>
<li><code>undefined == false</code> false</li>
<li><code>undefined == null</code> true</li>
</ul>
<p>También tenemos 2 operadores de <em>diferente</em>: <strong>!=</strong> y <strong>!==</strong> que se comportan como hemos dicho antes.</p>
<p>Los operadores relacionales son &gt;, &gt;=, &lt;, &lt;=. Cuando se compara un número y una cadena ésta se convierte a número y no al revés (<code>23 &gt; '5'</code> devuelve <em>true</em>, aunque <code>'23' &gt; '5'</code> devuelve <em>false</em>)</p>
<h2 id="manejo-de-errores" tabindex="-1">Manejo de errores</h2>
<p>Si sucede un error en nuestro código el programa dejará de ejecutarse por lo que el usuario tendrá la sensación de que no hace nada (el error sólo se muestra en la consola y el usuario no suele abrirla nunca). Para evitarlo es crucial capturar los posibles errores de nuestro código antes de que se produzcan.</p>
<p>En javascript (como en muchos otros lenguajes) el manejo de errores se realiza con sentencias</p>
<pre><code class="language-javascript">try {
    ...
} 
catch(error) {
    ...
}
</code></pre>
<p>Dentro del bloque <em>try</em> ponemos el código que queremos proteger y cualquier error producido en él será pasado al bloque <em>catch</em> donde es tratado. Opcionalmente podemos tener al final un bloque <em>finally</em> que se ejecuta tanto si se produce un error como si no. El parámetro que recibe <em>catch</em> es un objeto de tipo <code>Error</code> con propiedades como <em>name</em>, que indica el tipo de error (<em>SyntaxError</em>, <em>RangeError</em>, ... o el genérico <em>Error</em>), o <em>message</em>, que indica el texto del error producido.</p>
<p>En ocasiones podemos querer que nuestro código genere un error. Esto evita que tengamos que comprobar si el valor devuelto por una función es el adecuado o es un código de error. Por ejemplo tenemos una función para retirar dinero de una cuenta que recibe el saldo de la misma y la cantdad de dinero a retirar y devuelve el nuevo saldo, pero si no hay suficiente saldo no debería restar nada sino mostrar un mensaje al usuario. Sin gestión de errores haríamos:</p>
<pre><code class="language-javascript">function retirar(saldo, cantidad) {
  if (saldo &lt; cantidad) {
    return false
  }
  return saldo - cantidad
} 

// Y donde se llama a la función_
...
resultado = retirar(saldo, importe)
if (resultado === false
  alert('Saldo insuficiente')
} else {
  saldo = resultado
...
</code></pre>
<p>Se trata de un código poco claro que podemos mejorar lanzando un error en la función. Para ello se utiliza la instrucción <code>throw</code>:</p>
<pre><code class="language-javascript">  if (saldo &lt; cantidad) {
    throw 'Saldo insuficiente'
  }
</code></pre>
<p>Por defecto al lanzar un error este será de clase <em>Error</em> (el código anterior es equivalente a <code>throw new Error('Saldo insuficiente')</code>) aunque podemos lanzarlo de cualquier otra clase (<code>throw new RangeError('Saldo insuficiente')</code>) o personalizarlo.</p>
<p>Siempre que vayamos a ejecutar código que pueda generar un error debemos ponerlo dentro de un bloque <em>try</em> por lo que la llamada a la función que contiene el código anterior debería estar dentro de un <em>try</em>. El código del ejemplo anterior quedaría:</p>
<pre><code class="language-javascript">function retirar(saldo, cantidad) {
  if (saldo &lt; cantidad) {
    throw &quot;Saldo insuficiente&quot;
  }
  return saldo - cantidad
} 

// Siempre debemos llamar a esa función desde un bloque _try_
...
try {
  saldo = retirar(saldo, importe)
} catch(err) {
  alert(err)
}
...
</code></pre>
<p>Podemos ver en detalle cómo funcionan en la página de <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Sentencias/try...catch" target="_blank" class="external-link">MDN web docs</a> de Mozilla.</p>
<h2 id="buenas-practicas" tabindex="-1">Buenas prácticas</h2>
<p>Javascript nos permite hacer muchas cosas que otros lenguajes no nos dejan por lo que debemos ser cuidadosos para no cometer errores de los que no se nos va a avisar.</p>
<h3 id="use-strict" tabindex="-1">'use strict'</h3>
<p>Si ponemos siempre esta sentencia al principio de nuestro código el intérprete nos avisará si usamos una variale sin declarar (muchas veces por equivocarnos al escrbir su nombre). En concreto fuerza al navegador a no permitir:</p>
<ul>
<li>Usar una variable sin declarar</li>
<li>Definir más de 1 vez una propiedad de un objeto</li>
<li>Duplicar un parámetro en una función</li>
<li>Usar números en octal</li>
<li>Modificar una propiedad de sólo lectura</li>
</ul>
<h3 id="variables-1" tabindex="-1">Variables</h3>
<p>Algunas de las prácticas que deberíamos seguir respecto a las variables son:</p>
<ul>
<li>Elegir un buen nombre es fundamental. Evitar abreviaturas o nombres sin significado (a, b, c, ...)</li>
<li>Evitar en lo posible variables globales</li>
<li>Usar <em>let</em> para declararlas</li>
<li>Usar <em>const</em> siempre que una variable no deba cambiar su valor</li>
<li>Declarar todas las variables al principio</li>
<li>Inicializar las variables al declararlas</li>
<li>Evitar conversiones de tipo automáticas</li>
<li>Usar para nombrarlas la notación <em>camelCase</em></li>
</ul>
<p>También es conveniente, por motivos de eficiencia no usar objetos Number, String o Boolean sino los tipos primitivos (no usar <code>let numero = new Number(5)</code> sino <code>let numero = 5</code>) y lo mismo al crear arrays, objetos o expresiones regulares (no usar <code>let miArray = new Array()</code> sino <code>let miArray = []</code>).</p>
<h3 id="otras" tabindex="-1">Otras</h3>
<p>Algunas reglas más que deberíamos seguir son:</p>
<ul>
<li>Debemos ser coherentes a la hora de escribir código: por ejemplo podemos poner (recomendado) o no espacios antes y después del <code>=</code> en una asignación pero debemos hacerlo siempre igual. Existen muchas guías de estilo y muy buenas: <a href="https://github.com/airbnb/javascript" target="_blank" class="external-link">Airbnb</a>, <a href="https://google.github.io/styleguide/javascriptguide.xml" target="_blank" class="external-link">Google</a>, <a href="https://github.com/rwaldron/idiomatic.js" target="_blank" class="external-link">Idiomatic</a>, etc. Para obligarnos a seguir las reglas podemos usar alguna herramienta <a href="https://www.codereadability.com/what-are-javascript-linters/" target="_blank" class="external-link"><em>linter</em></a>.</li>
<li>También es conveniente para mejorar la legibilidad de nuestro código separar las líneas de más de 80 caracteres.</li>
<li>Usar <code>===</code> en las comparaciones</li>
<li>Si un parámetro puede faltar al llamar a una función darle un valor por defecto</li>
<li>Y para acabar <strong>comentar el código</strong> cuando sea necesario, pero mejor que sea lo suficientemente claro como para no necesitar comentarios</li>
</ul>
<h2 id="clean-code" tabindex="-1">Clean Code</h2>
<p>Estas y otras muchas recomendaciones se recogen el el libro <a href="https://books.google.es/books?id=hjEFCAAAQBAJ&amp;dq=isbn:9780132350884&amp;hl=es&amp;sa=X&amp;ved=0ahUKEwik8cfJwdLpAhURkhQKHcWBAxgQ6AEIJjAA" target="_blank" class="external-link">Clean Code</a> de <em>Robert C. Martin</em> y en muchos otros libros y articulos. Aquí tenéis un pequeño resumen traducido al castellano:</p>
<ul>
<li><a href="https://github.com/devictoribero/clean-code-javascript" target="_blank" class="external-link">https://github.com/devictoribero/clean-code-javascript</a></li>
</ul>
<div class="giscus"></div>
<script src="https://giscus.app/client.js" data-repo="pedroporo/pedroporo.github.com" data-repo-id="R_kgDOMtM_mQ" data-category="Announcements" data-category-id="DIC_kwDOMtM_mc4CiOKM" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="dark" data-lang="es" data-loading="lazy" crossorigin="anonymous" async></script>
</main>
<style>#tooltip-wrapper{background:var(--background-primary);padding:1em;border-radius:4px;overflow:hidden;position:fixed;width:80%;max-width:400px;height:auto;max-height:300px;font-size:.8em;box-shadow:0 5px 10px rgba(0,0,0,.1);opacity:0;transition:opacity .1s;unicode-bidi:plaintext;overflow-y:scroll;z-index:10}#tooltip-wrapper:after{content:"";position:absolute;z-index:1;bottom:0;left:0;pointer-events:none;width:100%;unicode-bidi:plaintext;height:75px}</style>
<div style="opacity:0;display:none" id="tooltip-wrapper">
<div id="tooltip-content">
</div>
</div>
<iframe style="display:none;height:0;width:0" id="link-preview-iframe" src="">
</iframe>
<script>var opacityTimeout,contentTimeout,transitionDurationMs=100,iframe=document.getElementById("link-preview-iframe"),tooltipWrapper=document.getElementById("tooltip-wrapper"),tooltipContent=document.getElementById("tooltip-content"),linkHistories={};function hideTooltip(){opacityTimeout=setTimeout((function(){tooltipWrapper.style.opacity=0,contentTimeout=setTimeout((function(){tooltipContent.innerHTML="",tooltipWrapper.style.display="none"}),transitionDurationMs+1)}),transitionDurationMs)}function showTooltip(t){var e=t.target,o=e.getClientRects()[e.getClientRects().length-1],i=window.pageYOffset||document.documentElement.scrollTop,n=t.target.getAttribute("href");if(-1===n.indexOf("http")||-1!==n.indexOf(window.location.host)){let t=n.split("#")[0];linkHistories[t]?(tooltipContent.innerHTML=linkHistories[t],tooltipWrapper.style.display="block",setTimeout((function(){if(tooltipWrapper.style.opacity=1,-1!=n.indexOf("#")){let t=n.split("#")[1];const e=tooltipWrapper.querySelector(`[id='${t}']`);e.classList.add("referred"),e.scrollIntoView({behavior:"smooth"},!0)}else tooltipWrapper.scroll(0,0)}),1)):(iframe.src=t,iframe.onload=function(){tooltipContentHtml="",tooltipContentHtml+='<div style="font-weight: bold; unicode-bidi: plaintext;">'+iframe.contentWindow.document.querySelector("h1").innerHTML+"</div>",tooltipContentHtml+=iframe.contentWindow.document.querySelector(".content").innerHTML,tooltipContent.innerHTML=tooltipContentHtml,linkHistories[t]=tooltipContentHtml,tooltipWrapper.style.display="block",tooltipWrapper.scrollTop=0,setTimeout((function(){if(tooltipWrapper.style.opacity=1,-1!=n.indexOf("#")){let t=n.split("#")[1];const e=tooltipWrapper.querySelector(`[id='${t}']`);e.classList.add("referred"),console.log(e),e.scrollIntoView({behavior:"smooth"},!0)}else tooltipWrapper.scroll(0,0)}),1)}),tooltipWrapper.style.left=o.left-tooltipWrapper.offsetWidth/2+o.width/2+"px",window.innerHeight-o.top<tooltipWrapper.offsetHeight?tooltipWrapper.style.top=o.top+i-tooltipWrapper.offsetHeight-10+"px":window.innerHeight-o.top>tooltipWrapper.offsetHeight&&(tooltipWrapper.style.top=o.top+i+35+"px"),o.left+o.width/2<tooltipWrapper.offsetWidth/2?tooltipWrapper.style.left="10px":document.body.clientWidth-o.left-o.width/2<tooltipWrapper.offsetWidth/2&&(tooltipWrapper.style.left=document.body.clientWidth-tooltipWrapper.offsetWidth-20+"px")}}function setupListeners(t){t.addEventListener("mouseleave",(function(t){hideTooltip()})),tooltipWrapper.addEventListener("mouseleave",(function(t){hideTooltip()})),t.addEventListener("mouseenter",(function(t){clearTimeout(opacityTimeout),clearTimeout(contentTimeout),showTooltip(t)})),tooltipWrapper.addEventListener("mouseenter",(function(t){clearTimeout(opacityTimeout),clearTimeout(contentTimeout)}))}window.addEventListener("load",(function(t){document.querySelectorAll(".internal-link").forEach(setupListeners),document.querySelectorAll(".backlink-card a").forEach(setupListeners)}))</script>
<script>window.location.hash&&document.getElementById(window.location.hash.slice(1)).classList.add("referred"),window.addEventListener("hashchange",(e=>{const t=e.oldURL.split("#");t[1]&&document.getElementById(t[1]).classList.remove("referred");const n=e.newURL.split("#");n[1]&&document.getElementById(n[1]).classList.add("referred")}),!1);const url_parts=window.location.href.split("#"),url=url_parts[0],referrence=url_parts[1];document.querySelectorAll(".cm-s-obsidian > *[id]").forEach((function(e){e.ondblclick=function(e){const t=url+"#"+e.target.id;navigator.clipboard.writeText(t)}}))</script>
<script src="https://fastly.jsdelivr.net/npm/luxon@3.2.1/build/global/luxon.min.js"></script>
<script defer="defer">TIMESTAMP_FORMAT="dd MMM yyyy, h:mm a",document.querySelectorAll(".human-date").forEach((function(e){date=e.getAttribute("data-date")||e.innerText,parsed_date=luxon.DateTime.fromISO(date),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromSQL(date)),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromHTML(date)),e.innerHTML=parsed_date.toFormat(TIMESTAMP_FORMAT)}))</script>
<script>lucide.createIcons({attrs:{class:["svg-icon"]}})</script>
</body>
</html>
